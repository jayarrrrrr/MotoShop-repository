{% extends 'base.html' %}
{% block title %}{{ product.name }}{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-6">
    {% if product.image %}
      <img src="{{ product.image.url }}" class="img-fluid rounded" alt="{{ product.name }}">
    {% else %}
      <img src="/static/images/placeholder.svg" class="img-fluid rounded" alt="{{ product.name }}">
    {% endif %}
  </div>
  <div class="col-md-6">
    <h2 class="mb-3">{{ product.name }}</h2>
    <p class="lead text-primary">â‚±{{ product.price }}</p>
    <p>{{ product.description }}</p>
    {% if not user.is_vendor %}
    <div class="d-flex flex-column flex-sm-row align-items-start gap-2">
      <form method="post" action="{% url 'cart_view' %}" class="m-0 d-flex align-items-center">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <div class="me-2">
          <label for="qty" class="form-label d-none d-sm-block mb-0">Qty</label>
          <input id="qty" name="quantity" type="number" min="1" value="1" class="form-control" style="width:100px;">
        </div>
        <button class="btn btn-primary">Add to cart</button>
      </form>

      <form method="post" action="{% url 'buy_now' %}" class="m-0 d-flex align-items-center">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <input type="hidden" name="quantity" value="1">
        <button class="btn btn-success">Buy Now</button>
      </form>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}